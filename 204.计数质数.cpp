/*
 * @lc app=leetcode.cn id=204 lang=cpp
 *
 * [204] ????
 */

/*
??1?????
*/

class Solution {
public:
    int countPrimes(int n) {
        int res = 1;    //?3??????????1
        if (n < 3) return 0;
        
        for (int i=3; i < n; i++) {
            if (i % 2 == 0) 
                continue;
            bool flag = true;
            // j*j ??????????
            for (int j=3; j <= sqrt(i); j+=2) {
                if (i % j == 0) {
                    flag = false;  //????for
                    break;
                }
            }
            if (flag) {
                res++;
            }
        }
        
        return res;
    }
};

/*
??2???????
???250???????????(Eeatosthese)?????????
???????????????????????????????
?????????????????????????(Sieve of 
Eeatosthese)?

??????? 2~n ????????????2?????????
????2??????????????????????3????
?????3??????????????????????? ?5?
????????5?????……??????????????? n 
????????????????????????????????
????? n ????
*/
class Solution {
public:
    int countPrimes(int n) {
        vector<bool> num(n, true);
        int res = 0;
        if (n < 2) return 0;
        
        //????????????false
        for (int i=2; i*i < n; i++) {
            if(num[i]) {
                int k = 2;
                while (k*i < n) {
                    num[k*i] = false;
                    k++;
                }
            }
        }
        
        //????true?????????
        for (int i=2; i < n; i++) {
            if (num[i])
                res++;
        }
        return res;
    }
};



